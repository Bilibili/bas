<script>
  export default {
    data() {
      return {
        tableData1: [
          'x           | number | 否    | 0        | 是    | 是    | x 坐标，可以为百分比值',
          'y           | number | 否    | 0        | 是    | 是    | y 坐标，可以为百分比值',
          'zIndex      | number | 否    | 0        | 否    | 否    | 层次权重，值高的对象在上层',
          'scale       | number | 否    | 1        | 是    | 是    | 缩放',
          'duration    | time   | 否    | -        | 否    | 否    | 元素生命周期，有动画时默认为动画总时间，无动画时默认4s',
          'content     | string | 是    | \'请输入内容\' | 是    | 否    | 文本内容',
          'alpha       | number | 否    | 1        | 是    | 是    | 透明度，取值范围 [0, 1]，0 完全透明, 1 完全不透明',
          'color       | number | 否    | 0xffffff | 是    | 是    | 文本颜色',
          'anchorX     | number | 否    | 0        | 否    | 否    | 锚点，位置为长度的百分比',
          'anchorY     | number | 否    | 0        | 否    | 否    | 锚点，位置为宽度的百分比',
          'fontSize    | number | 否    | 25       | 是    | 否    | 文本字体大小，可以为百分比（百分比字体大小为当前屏幕宽度*字体百分比px）',
          'fontFamily  | string | 否    | -       | 否    | 否    | 文本字体，默认值为平台默认字体。如果字体不存在时，使用平台默认字体',
          'bold        | number | 否    | 1        | 否    | 否    | 是否加粗',
          'textShadow  | number | 否    | 1        | 否    | 否    | 是否字体阴影',
          'strokeWidth | number | 否    | 0        | 否    | 否    | 描边宽度',
          'strokeColor | number | 否    | 0xffffff | 否    | 否    | 描边颜色',
          'rotateX     | number | 否    | 0        | 是    | 是    | X轴旋转',
          'rotateY     | number | 否    | 0        | 是    | 是    | Y轴旋转',
          'rotateZ     | number | 否    | 0        | 是    | 是    | Z轴旋转',
          'parent      | text   | 否    | -        | 否    | 否    | 所属层'
        ],
        tableData2: [
          'x           | number | 否    | 0        | 是    | 是    | x 坐标，可以为百分比值',
          'y           | number | 否    | 0        | 是    | 是    | y 坐标，可以为百分比值',
          'zIndex      | number | 否    | 0        | 否    | 否    | 层次权重，值高的对象在上层',
          'scale       | number | 否    | 1        | 否    | 否    | 缩放',
          'duration    | time   | 否    | -        | 否    | 否    | 元素生命周期，有动画时默认为动画总时间，无动画时默认4s',
          'text      | string                   | 是    | \'请输入内容\' | 是    | 否    | 按钮标签',
          'fontSize  | number                   | 否    | 25       | 是    | 否    | 按钮字体大小，可以为百分比（百分比字体大小为当前屏幕宽度*字体百分比px）',
          'textColor | number                   | 否    | 0x000000 | 否    | 否    | 按钮文字颜色',
          'textAlpha | number                   | 否    | 1        | 否    | 否    | 按钮字体透明度',
          'fillColor | number                   | 否    | 0xffffff | 否    | 否    | 按钮填充颜色',
          'fillAlpha | number                   | 否    | 1        | 否    | 否    | 按钮填充透明度',
          'target    | av object or seek object | 是    | -        | 否    | 否    | 按钮功能'
        ],
        tableData3: [
          'av   | number | 是  | -    | 否    | 否    | 视频av号',
          'page | number | 否   | 1    | 否    | 否   | 视频分P号',
          'time | time   | 否   | 0s   | 否   | 否    | 视频开始播放点'
        ],
        tableData4: [
          'seasonId  | number | 是  | 否    | 否    | 否    | 番剧id',
          'episodeId | number | 是  | 否    | 否    | 否    | 番剧分集id',
          'time      | time   | 否   | 0s   | 否    | 否    | 视频开始播放点'
        ],
        tableData5: [
          'time | time | 是    | -    | 否    | 否    | seek目标时间'
        ],
        tableData6: [
          'x           | number | 否    | 0        | 是    | 是    | x 坐标，可以为百分比值',
          'y           | number | 否    | 0        | 是    | 是    | y 坐标，可以为百分比值',
          'zIndex      | number | 否    | 0        | 否    | 否    | 层次权重，值高的对象在上层',
          'scale       | number | 否    | 1        | 否    | 否    | 缩放',
          'duration    | time   | 否    | -        | 否    | 否    | 元素生命周期，有动画时默认为动画总时间，无动画时默认4s',
          'd | string | 是 | "" | 否 | 否 | svg 路径',
          'borderWidth | number | 否 | 0 | 否 | 否 | 描边宽度',
          'borderColor | number | 否 | 0 | 否 | 否 | 描边颜色',
          'borderAlpha | number | 否 | 1 | 否 | 否 | 描边透明度',
          'fillColor | number | 否 | 0xffffff | 否 | 否 | 填充颜色',
          'fillAlpha | number | 否 | 1 | 否 | 否 | 填充透明度',
          'viewBox | string | 否 | - | 否 | 否 | svg 画布大小，默认完整显示',
          'width | number | 否 | - | 否 | 否 | 宽度，可以为百分比值，需要设置 viewBox 才可以生效',
          'height | number | 否 | - | 否 | 否 | 宽度，可以为百分比值，需要设置 viewBox 才可以生效'
        ]
      }
    }
  }
</script>

## 文本对象

### 示例

:::demo
``` js
def text t {
    content = "bilibili"
    fontSize = 5%
    fontFamily = "黑体"
    x = 50%
    y = 50%
    alpha = 1
    color = 0x00a1d6
    textShadow = 0
    bold = 1
    rotateX = 0
    rotateY = 0
    rotateZ = 0
    strokeWidth = 1
    strokeColor = 0xffffff
    anchorX = 0.5
    anchorY = 0.5
    zIndex = 3
    duration = 5s
}

def text y {
    content = "干杯"
    parent = "t"
    fontSize = 2%
    x = 100%
    y = 100%
}
```
:::

### 属性

<prop-table :data="tableData1"></prop-table>

## 交互按钮

### 示例

:::demo
``` js
def button b {
  text = "av1714157"
  x = 30%
  y = 37%
  ontSize = 5%
  textColor = 0xffffff
  fillColor = 0xFF9100
  fillAlpha = 0.8
  duration = 2s
  zIndex = 1
  scale = 0.8
  target = av {
    av = 1714157
    page = 1
    time = 20.5s500ms
  }
}
def button c {
  text = "第22话 春风"
  x = 40%
  y = 40%
  fontSize = 3%
  textColor = 0xffffff
  fillColor = 0x80D8FF
  target = bangumi {
    seasonId = 1699
    episodeId = 80041
    time = 1m30s
  }
}
```
:::

### 属性

<prop-table :data="tableData2"></prop-table>

### av object

<prop-table :data="tableData3"></prop-table>

### bangumi object

<prop-table :data="tableData4"></prop-table>

### seek object

<prop-table :data="tableData5"></prop-table>

## path 对象

### 示例

:::demo
``` js
def path p {
  d = "M30.828,30.422 C30.564,30.423 30.297,30.446 30.036,30.418 C29.078,30.314 28.380,31.402 28.048,32.549 C27.749,33.582 26.614,34.110 25.592,34.004 C24.412,33.883 23.631,33.208 23.330,32.141 C23.149,31.496 22.602,30.996 22.000,31.000 C17.847,31.024 14.153,31.012 10.000,31.000 C9.522,30.999 9.012,31.457 8.872,32.020 C8.573,33.228 7.546,33.995 6.409,34.014 C5.232,34.034 4.209,33.287 3.866,32.033 C3.722,31.508 3.479,30.385 2.977,30.413 C2.331,30.449 1.681,30.431 1.033,30.420 C0.325,30.407 0.012,30.123 0.012,29.451 C0.017,22.618 0.027,15.786 0.045,8.953 C0.047,8.247 0.340,8.009 1.154,8.008 C4.491,8.004 7.828,8.006 11.165,8.006 C11.398,8.006 11.631,8.006 11.863,8.006 C11.884,7.949 11.906,7.891 11.927,7.833 C11.152,7.426 10.377,7.019 9.603,6.611 C8.318,5.933 7.031,5.257 5.748,4.576 C5.228,4.300 5.012,3.879 5.306,3.357 C5.603,2.829 6.094,2.797 6.607,3.067 C9.620,4.656 12.634,6.243 15.636,7.849 C16.405,8.261 17.789,8.014 18.284,7.318 C19.819,5.154 21.353,2.990 22.888,0.825 C22.942,0.749 22.994,0.670 23.050,0.595 C23.488,0.007 23.985,-0.152 24.437,0.195 C24.960,0.596 24.870,1.072 24.534,1.549 C23.911,2.432 23.288,3.314 22.666,4.197 C21.804,5.421 20.943,6.646 19.986,8.006 C20.378,8.006 20.629,8.006 20.880,8.006 C24.194,8.006 27.507,8.005 30.820,8.007 C31.832,8.008 31.988,8.161 31.989,9.145 C31.999,15.861 32.008,22.577 32.014,29.293 C32.015,30.253 31.838,30.416 30.828,30.422 ZM25.848,32.431 C26.378,32.396 26.630,30.992 26.791,30.461 C26.102,30.461 25.492,30.461 24.787,30.461 C24.984,31.045 25.257,32.471 25.848,32.431 ZM6.318,32.432 C6.905,32.468 7.182,31.049 7.357,30.466 C6.663,30.466 6.056,30.466 5.383,30.466 C5.517,31.015 5.793,32.400 6.318,32.432 ZM30.000,10.000 C20.412,10.000 11.532,10.000 2.000,10.000 C2.000,16.462 2.000,22.576 2.000,29.000 C11.579,29.000 20.420,29.000 30.000,29.000 C30.000,22.528 30.000,16.432 30.000,10.000 ZM4.000,13.882 C4.002,12.956 4.449,12.051 5.381,12.050 C12.494,12.049 19.041,11.998 26.154,12.000 C27.100,12.000 27.997,12.966 28.000,13.882 C28.012,18.300 27.993,21.700 28.000,26.118 C28.002,27.062 27.146,27.999 26.154,28.000 C22.608,28.002 19.545,28.000 16.000,28.000 C12.455,28.000 9.392,28.002 5.846,28.000 C4.814,27.999 3.999,27.135 4.000,26.118 C4.005,21.722 3.992,18.278 4.000,13.882 ZM26.297,25.981 C26.297,21.804 26.154,17.971 26.154,13.882 C19.290,13.882 12.649,13.882 5.846,13.882 C5.846,18.035 5.822,21.866 5.822,25.981 C12.673,25.981 19.463,25.981 26.297,25.981 ZM11.608,16.318 C11.666,16.292 11.738,16.297 11.980,16.262 C12.121,16.400 12.477,16.590 12.515,16.828 C12.558,17.106 12.409,17.591 12.194,17.700 C10.880,18.367 9.530,18.968 8.177,19.557 C7.765,19.736 7.312,19.601 7.207,19.161 C7.138,18.873 7.262,18.326 7.469,18.222 C8.823,17.537 10.222,16.940 11.608,16.318 ZM12.021,20.776 C12.277,20.767 12.608,21.121 12.793,21.391 C12.941,21.606 12.879,21.950 12.983,22.210 C13.180,22.705 13.551,23.176 14.099,23.060 C14.504,22.975 14.874,22.570 15.178,22.234 C15.328,22.068 15.303,21.740 15.339,21.483 C15.407,20.999 15.693,20.701 16.171,20.713 C16.608,20.724 16.892,20.988 16.948,21.461 C16.984,21.760 16.992,22.131 17.171,22.330 C17.457,22.648 17.869,23.032 18.238,23.044 C18.572,23.055 18.978,22.651 19.241,22.339 C19.416,22.132 19.406,21.766 19.461,21.467 C19.550,20.990 19.826,20.700 20.320,20.738 C20.811,20.776 21.069,21.092 21.050,21.585 C21.003,22.836 20.506,23.853 19.334,24.411 C18.242,24.932 17.222,24.708 16.328,23.907 C16.280,23.864 16.222,23.833 16.162,23.792 C15.890,23.981 15.638,24.200 15.349,24.351 C14.404,24.844 13.458,24.803 12.586,24.197 C11.624,23.527 11.195,22.551 11.281,21.416 C11.299,21.170 11.755,20.785 12.021,20.776 ZM18.997,16.260 C19.229,15.854 19.641,15.743 20.026,15.962 C21.555,16.833 23.067,17.734 24.569,18.648 C24.749,18.757 24.833,19.019 24.896,19.113 C24.913,19.856 24.298,20.260 23.732,19.941 C22.219,19.088 20.731,18.190 19.245,17.289 C18.853,17.051 18.770,16.656 18.997,16.260 Z"
  viewBox="0 0 32 34"
  x = 40%
  y = 15%
  borderWidth = 1
  borderColor = 0xffffff
  borderAlpha = 0.8
  fillColor = 0x00a1d6
  fillAlpha = 0.8
  width = 20%
  duration = 2s
  zIndex = 1
  scale = 0.8
}
```
:::

### 属性

<prop-table :data="tableData6"></prop-table>

## 动画

### 简单动画

#### SET语法

```
SetExpr
    : SetExpr then SetExpr
    | { SetExpr+ }
    | set id {
        (id = value_expr)*
    } time_expr (, string)?
```

#### 示例

:::demo
``` js
def text t {
  content = "bilibili"
}
set t {
    x = 50%
    y = 50%
} 1s, "linear"
```
:::

#### 说明

```javascript
set 目标对象 {
    可渐变属性 = 目标值
} 动画持续, "区块默认的插值类型"
```
set 语句块定义了一个对象的一组属性在相同时间内的动画。

##### 属性

只有目标对象的可渐变属性才有正常的动画效果。对可变属性但是非渐变属性设置新值会立即生效。对其他属性设值或者不存在的属性设值将被忽略。

原则上某一属性在一个 set 语句中最多只能出现一次。在实现上，如果多次出现，以最后一次为准。

##### 目标值

目标值应该与属性所需的值为同一类型。可渐变属性的可以用一个数组的形式，特别指定该属性的插件类型。

##### 插值类型

区块默认的插值类型写在区块动画时间之后，与区块动画时间用逗号隔开。区块默认的插值类型可以省略。在省略时，默认的插值类型为 "linear"。可渐变属性的可以用一个数组的形式，特别指定该属性的插件类型。

### 串联动画

#### 示例

:::demo
``` js
def text a {
  content = "bilibili"
}
set a {
    x = 50%
    y = 50%
} 1s
then set a {
    alpha = 0
} 1s
```
:::

#### 说明

```javascript
set语句(组) then set语句(组) then set语句(组) ...
```
后一语句动画在前语句动画完毕后开始。

### 并联动画

:::demo
``` js
def text a {
  content = "bilibili"
}
set a {
    x = 50%
    y = 50%
} 1s
set a {
    alpha = 0
} 1s
```
:::

#### 说明

```
set语句
set语句
...
```

没有then连接的连续出现的set语句定义的动画并行执行。

##### 总时间

并行语句的总时间是子语句的最长时间。一般情况下子语句的动画时间是相同的。如果子语句动画提前执行完，则等待总其他并行动画。

##### 同一目标属性同时更改

在并行语句中出现同一目标属性在多个子语句中有更改，最后更改为准。之前的属性动画忽略。

由于技术限制，x y rotateX rotateY rotateZ scale 视为相同属性。

##### 语句组

```
{
    set语句
    set语句
    ...
}
```

并行语句用大括号包围后，成为一个set语句单位。
